#include<bits/stdc++.h>
using namespace std;

int nt[10005];

void sang() {
	for(int i = 2; i <= 10000; ++i) nt[i] = 1;
	for(int i = 2; i <= sqrt(10000); ++i) {
		if(nt[i]) {
			for(int j = i * i; j <= 10000; j += i) {
				nt[j] = 0;
			}
		}
	}
}

int main() {
	sang();
	int t; cin >> t;
	while(t--) {
		int a, b, ok = 0; cin >> a >> b;
		queue<pair<int, int>> q;
		set<int> se; se.insert(a);
		q.push({a, 0});
		while(1) {
			if(ok) break;
			pair<int, int> p = q.front(); q.pop();
			int s = p.first, x = p.second;
			if(s == b) {
				cout << x << endl;
				break;
			}
			for(int i = 0; i < 4; ++i) {
				if(ok) break;
				string z = to_string(s);
				for(char j = '0'; j <= '9'; ++j) {
					z[i] = j; int k = stoi(z);
					if(!se.count(k) && nt[k] && k >= 1000) {
						if(k == b) {
							ok = 1; cout << x + 1 << endl; break;
						}
						se.insert(k); q.push({k, x + 1});
					}
				}
			}
		}
	}
}
