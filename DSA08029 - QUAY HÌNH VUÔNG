#include<bits/stdc++.h>
using namespace std;

string left(string s) {
	char x = s[0];
	s[0] = s[3]; s[3] = s[4]; s[4] = s[1]; s[1] = x;
	return s;
}

string right(string s) {
	char x = s[1];
	s[1] = s[4]; s[4] = s[5]; s[5] = s[2]; s[2] = x;
	return s;
}

int main() {
	int t; cin >> t;
	while(t--) {
		string a = "", b = ""; 
		for(int i = 0; i < 6; ++i) {
			string x; cin >> x;
			a += x;
		}
		for(int i = 0; i < 6; ++i) {
			string x; cin >> x;
			b += x;
		}
		queue<pair<string, int>> q;
		set<string> se;
		q.push({a, 0});
		while(1) {
			pair<string, int> p = q.front(); q.pop();
			string s = p.first; int x = p.second;
			if(s == b) {
				cout << x << endl;
				break;
			}
			string s1 = left(s), s2 = right(s);
			if(s1 == b || s2 == b) {
				cout << x + 1 << endl;
				break;
			}
			if(!se.count(s1)) q.push({s1, x + 1}), se.insert(s1);
			if(!se.count(s2)) q.push({s2, x + 1}), se.insert(s2);
		}
	}
}
