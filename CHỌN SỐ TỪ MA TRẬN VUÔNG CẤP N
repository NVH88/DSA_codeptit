#include<bits/stdc++.h>
using namespace std;

int n, k, a[20], x[20][20], used[20];
vector<string> v;

void Try(int i, int s) {
	for(int j = 1; j <= n; j++) {
		if(!used[j]) {
			used[j] = 1;
			a[i] = j;
			if(i == n) {
				if(s + x[i][a[i]] == k) {
					string tmp = "";
					for(int p = 1; p <= n; p++) {
						tmp += to_string(a[p]) + " ";
					}
					v.push_back(tmp);
				}
			}
			else Try(i + 1, s + x[i][a[i]]);
			used[j] = 0;
		}
	}
}

int main() {
	cin >> n >> k;
	for(int i = 1; i <= n; i++) {
		for(int j = 1; j <= n; j++) {
			cin >> x[i][j];
		}
	}
	Try(1, 0);
	cout << v.size() << endl;
	for(string i : v) cout << i << endl;
}
