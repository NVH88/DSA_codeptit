#include<bits/stdc++.h>
using namespace std;

int ut(string s) {
	if(s == "^") return 3;
	if(s == "*" || s == "/") return 2;
	if(s == "+" || s == "-") return 1;
	return 0;
}

int main() {
	int t; cin >> t;
	while(t--) {
		string s; cin >> s;
		stack<string> a, b;
		for(char i : s) {
			if(isalpha(i)) a.push(string(1, i));
			else if(i == '(') b.push(string(1, i));
			else if(i == ')') {
				while(b.top() != "(") {
					string x = a.top(); a.pop();
					string y = a.top(); a.pop();
					string z = b.top(); b.pop();
					a.push(y + x + z);
				}
				b.pop();
			}
			else {
				while(b.size() && ut(b.top()) >= ut(string(1, i))) {
					string x = a.top(); a.pop();
					string y = a.top(); a.pop();
					string z = b.top(); b.pop();
					a.push(y + x + z);
				}
				b.push(string(1, i));
			}
		}
		while(b.size()) {
			string x = a.top(); a.pop();
			string y = a.top(); a.pop();
			string z = b.top(); b.pop();
			a.push(y + x + z);
		}
		cout << a.top() << endl;
	}
}
