#include<bits/stdc++.h>
using namespace std;

int main() {
	int t; cin >> t;
	while(t--) {
		int n; cin >> n;
		int par[n + 1], deg[n + 1] = {0};
		for(int i = 0; i < n - 1; i++) {
			int x, y; cin >> x >> y;
			par[y] = x;
			deg[y] = deg[x] + 1;
		}
		int q; cin >> q;
		for(int i = 0; i < q; i++) {
			int x, y; cin >> x >> y;
			if(deg[y] > deg[x]) swap(x, y);
			int a = deg[x] - deg[y];
			for(int i = 0; i < a; i++) {
				x = par[x];
			}
			int step = 0;
			while(x != y) {
				step += 2;
				x = par[x];
				y = par[y];
			}
			cout << step + a << endl;
		}
	}
}
