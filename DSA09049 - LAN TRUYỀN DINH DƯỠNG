#include<bits/stdc++.h>
using namespace std;

int main() {
	long long n; cin >> n;
	long long cha[n + 1], scc[n + 1], dd[n + 1];
	cha[0] = cha[1] = -1;
	memset(dd, 0, sizeof(dd));
	scc[1] = 1;
	dd[1] = 1;
	for(int i = 2; i <= n; i++) {
		cin >> cha[i];
		scc[i] = 1;
	}
	for(int i = n; i >= 2; i--) {
		dd[i]++;
		scc[cha[i]] += scc[i];
		dd[cha[i]] += dd[i] + scc[i];
	}
	for(int i = 1; i <= n; i++) {
		cout << dd[i] << " ";
	}
}
