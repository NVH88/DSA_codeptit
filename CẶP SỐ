#include<bits/stdc++.h> using namespace std; int merge(int a[], int l, int m, int r){ vector<int> x(a + l , a+ m + 1); vector<int> y(a + m + 1, a + r + 1); int i = 0, j = 0, ans = 0; while( i < x.size() and j < y.size()){ if(x[i] <= y[j]){ a[l++] = x[i++]; }else{ a[l++] = y[j++]; ans += x.size() - i; } } while(i < x.size()){ a[l++] = x[i++]; } while( j < y.size()){ a[l++] = y[j++]; } return ans; } int merge_sort(int a[], int l, int r){ int ans = 0; if( l < r){ int m = (l + r)/ 2; ans += merge_sort(a, l, m); ans += merge_sort(a, m+1, r); ans += merge(a, l , m, r); }else{ return 0; } return ans; } int main(){ int n, st = 0; cin>>n; int a[n+1], c[n]; for(int i = 0; i < n; i++){ cin>>a[i]; if(a[i] % 2 == 0) c[st++] = a[i]; } int res = merge_sort(c, 0, st-1), cnt = 0; a[n] = 1; for(int i = 1; i <= n; i++){ if(a[i] % 2 == 0 and a[i-1] % 2 == 0) cnt++; else if(a[i] % 2 == 1 and a[i-1] % 2 == 0){ res -= merge_sort(a, i - 1 - cnt, i - 1); cnt = 0; } } cout<<res<<endl; }
